<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<StackPane xmlns="http://javafx.com/javafx/17"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.fittrack.controller.LoginController"
           stylesheets="@styleSheet.css"
           styleClass="login-root">

    <!-- Center card (fixed-size login panel) -->
    <VBox alignment="CENTER"
          spacing="20"
          styleClass="login-card"
          prefWidth="400"
          prefHeight="500"
          maxWidth="400"
          maxHeight="500"
          minWidth="400"
          minHeight="500">
        <padding>
            <Insets top="40" right="40" bottom="40" left="40"/>
        </padding>

        <!-- Logo -->
        <ImageView fx:id="logoImage"
                   fitHeight="80"
                   fitWidth="80"
                   pickOnBounds="true"
                   preserveRatio="true"
                   styleClass="login-logo"/>

        <!-- Title -->
        <Label text="Sign In" styleClass="login-title"/>
        <Label text="Enter your credentials to continue" styleClass="login-subtitle"/>

        <!-- Input fields -->
        <VBox spacing="10" styleClass="input-container">
            <TextField fx:id="usernameField"
                       promptText="Email"
                       styleClass="input-field"/>
            <PasswordField fx:id="passwordField"
                           promptText="Password"
                           onAction="#handleLoginButtonAction"
                           styleClass="input-field"/>
        </VBox>

        <!-- Login Button -->
        <Button fx:id="loginButton"
                text="Sign In"
                onAction="#handleLoginButtonAction"
                styleClass="login-button"
                prefWidth="240"
                defaultButton="true"/>

        <!-- ✅ Fixed: errorLabel now always initialized -->
        <Label fx:id="errorLabel"
               text=""
               styleClass="error-label"
               visible="true"/>

        <!-- Register section -->
        <HBox alignment="CENTER" spacing="5">
            <Label text="Don’t have an account?" styleClass="register-label"/>
            <Button text="Create one"
                    onAction="#handleRegisterLinkAction"
                    styleClass="register-link"/>
        </HBox>
    </VBox>
</StackPane>
